<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZenithWheel - ‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Main Container -->
    <div class="container">
      <!-- Language Toggle Button -->
      <button id="lang-toggle" class="lang-toggle" onclick="toggleLanguage()">
        TH
      </button>

      <!-- Header Section -->
      <header class="header">
        <img src="Logo.svg" alt="ZenithWheel" class="logo" />
        <!-- <p class="subtitle">‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</p> -->
      </header>

      <!-- Pages -->
      <main>
        <!-- Wheel Page -->
        <section id="wheel-page" class="page active">
          <div class="wheel-container">
            <div class="wheel-section">
              <div id="wheel-notice"></div>
              <div class="pointer"></div>
              <div id="wheel"></div>
              <button id="spin-btn" class="spin-btn" onclick="spinWheel()">
                üéØ ‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠
              </button>
            </div>
            <!-- Navigation Buttons -->
            <nav class="nav-buttons">
              <!-- <button class="nav-btn active" onclick="showPage('wheel')">
                üé° ‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
              </button> -->
              <button class="nav-btn" onclick="showPage('manage')">
                ‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
              </button>
            </nav>
          </div>
        </section>

        <!-- Management Page -->
        <section id="manage-page" class="page">
          <div class="management-container">
            <!-- Add Prize Form -->
            <div class="add-prize-form">
              <h2 class="add-prize">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà</h2>
              <div class="form-row">
                <div class="form-group form-group-name">
                  <label for="prize-name">‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</label>
                  <input
                    type="text"
                    id="prize-name"
                    placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•"
                    maxlength="50"
                  />
                </div>
                <div class="form-group form-group-quantity">
                  <label for="prize-quantity">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</label>
                  <input
                    type="number"
                    id="prize-quantity"
                    placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô"
                    min="1"
                    max="999"
                    value="1"
                  />
                </div>
              </div>
              <input type="color" id="prize-color" style="display: none" />
              <button type="button" class="add-btn" onclick="addPrize()">
                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
              </button>
            </div>

            <!-- Prizes List -->
            <div class="prizes-list">
              <div class="prizes-header">üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
              <div id="prizes-container">
                <div class="empty-state">
                  <h3>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>
                  <p>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠</p>
                </div>
              </div>
            </div>

            <!-- Back Button -->
            <div style="text-align: center; margin-top: 20px;">
              <button class="back-btn" id="back-btn" onclick="showPage('wheel')">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Prize Modal -->
    <div id="prize-modal" class="modal-overlay">
      <div class="modal-content">
        <header class="modal-header">
          <h2>üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! üéâ</h2>
        </header>
        <div class="modal-body">
          <div class="prize-modal-icon" id="modal-prize-icon">üéÅ</div>
          <div class="prize-modal-text" id="modal-prize-text">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
          <div class="prize-modal-subtext" id="modal-prize-subtext">
            ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏•‡πâ‡∏ß!
          </div>
        </div>
        <footer class="modal-footer">
          <button class="modal-close-btn" onclick="closeModal()">‚ú® ‡∏õ‡∏¥‡∏î</button>
        </footer>
      </div>
    </div>

    <!-- Styles -->
    <style>
      /* General Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Sarabun", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
      }

      .lang-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 10px 18px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        z-index: 5000;
        font-family: "Sarabun", sans-serif;
      }

      .lang-toggle:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .lang-toggle:active {
        transform: translateY(0);
      }

      .back-btn {
        background: linear-gradient(45deg, #2ed573, #1e90ff);
        color: white;
        border: none;
        padding: 12px 40px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        font-family: "Sarabun", sans-serif;
      }

      .back-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .back-btn:active {
        transform: translateY(0);
      }

      .header {
        text-align: center;
        margin-bottom: 20px;
      }

      .header h1 {
        color: white;
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .logo {
        background-color: white;
        border-radius: 12px;
        height: 60px;
        width: auto;
        max-width: 90%;
        margin-bottom: 10px;
        filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
        transition: transform 0.3s ease;
      }

      .logo:hover {
        transform: scale(1.05);
      }

      .subtitle {
        color: white;
        font-size: 18px;
      }

      /* Navigation Buttons */
      .nav-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 30px;
      }

      .nav-btn {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .nav-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .nav-btn.active {
        background: linear-gradient(45deg, #2ed573, #1e90ff);
      }

      /* Page Styles */
      .page {
        display: none;
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .page.active {
        display: block;
      }

      /* Wheel Page Styles */
      .wheel-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 30px;
      }

      .wheel-section {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #wheel {
        width: 525px;
        height: 525px;
        border-radius: 50%;
        border: 8px solid #333;
        position: relative;
        transition: transform 4s cubic-bezier(0.23, 1, 0.32, 1);
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);
      }

      .wheel-segment {
        position: absolute;
        width: 50%;
        height: 50%;
        transform-origin: 100% 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        font-size: 14px;
        text-align: center;
        padding: 10px;
      }

      #wheel svg {
        width: 100%;
        height: 100%;
      }

      .pointer {
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
        border-top: 30px solid #ff6b6b;
        z-index: 10;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
      }

      .spin-btn {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        border: none;
        padding: 15px 40px;
        border-radius: 30px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        margin-top: 20px;
      }

      .spin-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .spin-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .result {
        margin-top: 15px;
        padding: 15px;
        background: linear-gradient(
          135deg,
          rgba(46, 213, 115, 0.95),
          rgba(30, 144, 255, 0.95)
        );
        color: white;
        border-radius: 15px;
        text-align: center;
        font-size: 16px;
        font-weight: bold;
        min-height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: visible;
        backdrop-filter: blur(5px);
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      /* Management Page Styles */
      .management-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .add-prize-form {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .add-prize-form h2 {
        margin-bottom: 15px;
        font-size: 18px;
      }

      .form-row {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group-name {
        flex: 2;
      }

      .form-group-quantity {
        flex: 1;
        min-width: 120px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: #333;
        font-size: 14px;
      }

      .form-group input[type="color"] {
        width: 80px;
        height: 50px;
        border: 2px solid #ddd;
        border-radius: 8px;
        cursor: pointer;
        transition: border-color 0.3s ease;
      }

      .form-group input[type="color"]:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .form-group input[type="color"]:invalid {
        border-color: #ff6b6b;
      }

      .random-color-btn {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .random-color-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .form-group input {
        width: 100%;
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      .form-group input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .add-btn {
        background: linear-gradient(45deg, #2ed573, #1e90ff);
        color: white;
        border: none;
        padding: 10px 25px;
        border-radius: 20px;
        font-size: 15px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
      }

      .add-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .prizes-list {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-height: 400px;
        display: flex;
        flex-direction: column;
      }

      .prizes-header {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        padding: 20px;
        font-size: 20px;
        font-weight: bold;
        text-align: center;
        flex-shrink: 0;
      }

      #prizes-container {
        overflow-y: auto;
        flex: 1;
      }

      #prizes-container::-webkit-scrollbar {
        width: 8px;
      }

      #prizes-container::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      #prizes-container::-webkit-scrollbar-thumb {
        background: linear-gradient(45deg, #667eea, #764ba2);
        border-radius: 10px;
      }

      #prizes-container::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(45deg, #764ba2, #667eea);
      }

      .prize-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        border-bottom: 1px solid #eee;
        transition: background-color 0.3s ease;
      }

      .prize-item:hover {
        background-color: #f8f9fa;
      }

      .prize-item:last-child {
        border-bottom: none;
      }

      .prize-info {
        flex: 1;
      }

      .prize-name {
        font-weight: bold;
        font-size: 16px;
        color: #333;
        margin-bottom: 5px;
      }

      .prize-quantity {
        font-size: 14px;
        color: #666;
      }

      .prize-quantity.out-of-stock {
        color: #ff6b6b;
        font-weight: bold;
      }

      .prize-item.out-of-stock {
        opacity: 0.6;
        background-color: #f8f8f8;
      }

      .prize-item.out-of-stock .prize-name {
        text-decoration: line-through;
        color: #999;
      }

      .quantity-controls {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-right: 15px;
      }

      .quantity-btn {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .quantity-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .quantity-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      .quantity-display {
        min-width: 40px;
        text-align: center;
        font-weight: bold;
        font-size: 16px;
      }

      .auto-select-notice {
        background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
        color: #333;
        padding: 15px 20px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: center;
        font-weight: bold;
        border: 2px solid #fdcb6e;
        animation: pulse 2s infinite;
      }

      .no-prizes-notice {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: center;
        font-weight: bold;
        border: 2px solid #ee5a24;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
        }
      }

      /* Prize bounce animation */
      .prize-bounce {
        animation: prizeEnter 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        transform-origin: center;
      }

      @keyframes prizeEnter {
        0% {
          transform: scale(0) rotate(-180deg);
          opacity: 0;
        }
        50% {
          transform: scale(1.3) rotate(-90deg);
          opacity: 0.8;
        }
        70% {
          transform: scale(0.9) rotate(0deg);
          opacity: 1;
        }
        85% {
          transform: scale(1.1) rotate(0deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
          opacity: 1;
        }
      }

      .result-container {
        position: relative;
        min-height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 100;
        width: 100%;
      }

      .prize-display {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        padding: 20px;
      }

      .prize-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        color: white;
        border: 4px solid white;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
      }

      .prize-icon::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transform: rotate(45deg);
        animation: shine 2s infinite;
      }

      @keyframes shine {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        50% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      .prize-text {
        font-size: 24px;
        font-weight: bold;
        color: white;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        text-align: center;
      }

      .prize-sub-text {
        font-size: 16px;
        opacity: 0.9;
        color: white;
        text-align: center;
      }

      .sparkle {
        position: absolute;
        pointer-events: none;
      }

      .sparkle::before {
        content: "‚ú®";
        font-size: 20px;
        animation: sparkleFloat 3s infinite;
      }

      @keyframes sparkleFloat {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        50% {
          transform: translateY(-20px) rotate(180deg);
          opacity: 0.5;
        }
      }

      .prize-color {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 15px;
        border: 2px solid #ddd;
      }

      .prize-actions {
        display: flex;
        gap: 10px;
      }

      .delete-btn {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s ease;
      }

      .delete-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .empty-state {
        text-align: center;
        padding: 40px;
        color: #666;
      }

      .empty-state h3 {
        margin-bottom: 10px;
        color: #333;
      }

      /* Modal Styles */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .modal-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .modal-content {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 25px;
        padding: 40px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        transform: scale(0.7) rotate(-5deg);
        transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        position: relative;
        overflow: hidden;
      }

      .modal-overlay.show .modal-content {
        transform: scale(1) rotate(0deg);
      }

      .modal-content::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        animation: modalShine 3s infinite;
      }

      @keyframes modalShine {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        50% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      .modal-header h2 {
        color: white;
        font-size: 2.5rem;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        animation: modalBounce 1s ease-out;
      }

      @keyframes modalBounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .modal-body {
        margin: 30px 0;
      }

      .prize-modal-icon {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        color: white;
        border: 6px solid white;
        margin: 0 auto 25px;
        position: relative;
        animation: prizeIconSpin 2s ease-out;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      @keyframes prizeIconSpin {
        0% {
          transform: scale(0) rotate(-360deg);
        }
        50% {
          transform: scale(1.2) rotate(-180deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }

      .prize-modal-text {
        font-size: 2rem;
        font-weight: bold;
        color: white;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        animation: textSlideUp 0.8s ease-out 0.5s both;
      }

      .prize-modal-subtext {
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 20px;
        animation: textSlideUp 0.8s ease-out 0.7s both;
      }

      @keyframes textSlideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .modal-footer {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 30px;
      }

      .modal-close-btn,
      .modal-spin-again-btn {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        animation: buttonSlideUp 0.8s ease-out 0.9s both;
      }

      .modal-spin-again-btn {
        background: linear-gradient(45deg, #2ed573, #1e90ff);
      }

      .modal-close-btn:hover,
      .modal-spin-again-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      @keyframes buttonSlideUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Responsive Modal */
      @media (max-width: 768px) {
        .modal-content {
          padding: 30px 20px;
        }

        .modal-header h2 {
          font-size: 2rem;
        }

        .prize-modal-icon {
          width: 100px;
          height: 100px;
          font-size: 50px;
        }

        .prize-modal-text {
          font-size: 1.5rem;
        }

        .modal-footer {
          flex-direction: column;
        }

        .form-row {
          flex-direction: column;
          gap: 0;
        }

        .form-group-name,
        .form-group-quantity {
          flex: 1;
        }
      }
    </style>

    <!-- Scripts -->
    <script>
      // Global variables
      let prizes = [];
      let isSpinning = false;
      let currentRotation = 0;
      let lastWinner = null;
      let currentLanguage = "en";

      // Language translations
      const translations = {
        th: {
          wheelTitle: "üé° ‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          manageTitle: "‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          spinButton: "üéØ ‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠",
          spinButtonSpinning: "üé° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏°‡∏∏‡∏ô...",
          spinButtonSelecting: "üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠...",
          spinButtonNoMore: "‚ùå ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß",
          spinButtonFinal: "üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢",
          clickToStart: '‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô!',
          addPrizeTitle: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà",
          prizeName: "‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:",
          prizeNamePlaceholder: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          quantity: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:",
          quantityPlaceholder: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô",
          addButton: "‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          prizeListTitle: "üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
          noPrives: "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          addPrizeToStart: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠",
          congrats: "üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! üéâ",
          congratsText: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",
          congratsSubtext: "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏•‡πâ‡∏ß!",
          closeButton: "‚ú® ‡∏õ‡∏¥‡∏î",
          deleteButton: "üóëÔ∏è ‡∏•‡∏ö",
          noRewards: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          noRewardsAvailable: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß",
          addQuantity: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          spinAgain: "üéØ ‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà! üéâ",
          selectReward: "üéØ ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö",
          remaining: "‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:",
          outOf: "‡∏à‡∏≤‡∏Å",
          outOfStock: "(‡∏´‡∏°‡∏î)",
          backButton: "‚Üê ‡∏Å‡∏•‡∏±‡∏ö",
          noPrizesWheel: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
          allPrizesGone: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß",
          onePrizeLeft: "üéØ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏î‡∏µ‡∏¢‡∏ß! ‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏µ‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥",
          allPrizesGoneWarning: "‚ö†Ô∏è ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
        },
        en: {
          wheelTitle: "üé° Spin Wheel",
          manageTitle: "‚öôÔ∏è Manage Prizes",
          spinButton: "üéØ Spin Wheel",
          spinButtonSpinning: "üé° Spinning...",
          spinButtonSelecting: "üéØ Selecting Last Prize...",
          spinButtonNoMore: "‚ùå No Prizes Left",
          spinButtonFinal: "üéØ Select Last Prize",
          clickToStart: 'Click "Spin Wheel" button to start playing!',
          addPrizeTitle: "Add New Prize",
          prizeName: "Prize Name:",
          prizeNamePlaceholder: "Enter prize name",
          quantity: "Quantity:",
          quantityPlaceholder: "Quantity",
          addButton: "‚ûï Add Prize",
          prizeListTitle: "üìã All Prizes",
          noPrives: "No Prizes",
          addPrizeToStart: "Add a new prize to start using the wheel",
          congrats: "üéâ Congratulations! üéâ",
          congratsText: "Your Prize",
          congratsSubtext: "You won!",
          closeButton: "‚ú® Close",
          deleteButton: "üóëÔ∏è Delete",
          noRewards: "No Rewards",
          noRewardsAvailable: "All prizes are gone",
          addQuantity: "Add prize quantity",
          spinAgain: "üéØ Spin the wheel to get a new prize! üéâ",
          selectReward: "üéØ You Got",
          remaining: "Remaining:",
          outOf: "of",
          outOfStock: "(Out)",
          backButton: "‚Üê Back",
          noPrizesWheel: "No Prizes",
          allPrizesGone: "All prizes are gone",
          onePrizeLeft: "üéØ Only one prize left! Spin will select it automatically",
          allPrizesGoneWarning: "‚ö†Ô∏è All prizes are gone! Please add more quantities",
        },
      };

      function t(key) {
        return translations[currentLanguage][key] || key;
      }

      function toggleLanguage() {
        currentLanguage = currentLanguage === "th" ? "en" : "th";
        const btn = document.getElementById("lang-toggle");
        btn.textContent = currentLanguage === "th" ? "TH" : "EN";
        updatePageLanguage();
      }

      function updatePageLanguage() {
        // Update navigation buttons
        document.querySelectorAll(".nav-btn")[0].textContent = t("wheelTitle");
        document.querySelectorAll(".nav-btn")[1].textContent = t("manageTitle");

        // Update spin button
        const spinBtn = document.getElementById("spin-btn");
        if (spinBtn.disabled) {
          if (spinBtn.textContent.includes("‡∏õ‡∏¥‡∏î")) {
            spinBtn.textContent = t("spinButtonNoMore");
          }
        } else if (spinBtn.textContent.includes("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å")) {
          spinBtn.textContent = t("spinButtonFinal");
        } else {
          spinBtn.textContent = t("spinButton");
        }

        // Update management page titles
        const addPrizeTitle = document.querySelector(".add-prize");
        if (addPrizeTitle) addPrizeTitle.textContent = t("addPrizeTitle");

        const prizeLabels = document.querySelectorAll(".form-group label");
        if (prizeLabels[0]) prizeLabels[0].textContent = t("prizeName");
        if (prizeLabels[1]) prizeLabels[1].textContent = t("quantity");

        const addBtn = document.querySelector(".add-btn");
        if (addBtn) addBtn.textContent = t("addButton");

        const prizeHeader = document.querySelector(".prizes-header");
        if (prizeHeader) prizeHeader.textContent = t("prizeListTitle");

        // Update empty state
        const emptyState = document.querySelector(".empty-state");
        if (emptyState) {
          const h3 = emptyState.querySelector("h3");
          const p = emptyState.querySelector("p");
          if (h3) h3.textContent = t("noPrives");
          if (p) p.textContent = t("addPrizeToStart");
        }

        // Update modal header
        const modalHeader = document.querySelector(".modal-header h2");
        if (modalHeader) modalHeader.textContent = t("congrats");

        const closeBtn = document.querySelector(".modal-close-btn");
        if (closeBtn) closeBtn.textContent = t("closeButton");

        // Update back button
        const backBtn = document.getElementById("back-btn");
        if (backBtn) backBtn.textContent = t("backButton");

        // Update input placeholders
        const prizeNameInput = document.getElementById("prize-name");
        const quantityInput = document.getElementById("prize-quantity");
        if (prizeNameInput)
          prizeNameInput.placeholder = t("prizeNamePlaceholder");
        if (quantityInput) quantityInput.placeholder = t("quantityPlaceholder");

        // Update wheel
        updateWheel();
        updatePrizesList();
      }

      // Load prizes from localStorage on page load
      document.addEventListener("DOMContentLoaded", function () {
        loadPrizes();
        updateWheel();
        updatePrizesList();
        // Generate initial random color
        randomColor();
        console.log("Prizes loaded:", prizes);
      });

      // Page navigation
      function showPage(pageName) {
        // Hide all pages
        document.querySelectorAll(".page").forEach((page) => {
          page.classList.remove("active");
        });

        // Remove active class from all nav buttons
        document.querySelectorAll(".nav-btn").forEach((btn) => {
          btn.classList.remove("active");
        });

        // Show selected page
        document.getElementById(pageName + "-page").classList.add("active");

        // Add active class to clicked button
        event.target.classList.add("active");
      }

      // Prize management functions
      function addPrize() {
        const nameInput = document.getElementById("prize-name");
        const colorInput = document.getElementById("prize-color");
        const quantityInput = document.getElementById("prize-quantity");

        const name = nameInput.value.trim();
        let color = colorInput.value;
        const quantity = parseInt(quantityInput.value) || 1;

        if (name === "") {
          alert(
            currentLanguage === "th"
              ? "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•!"
              : "Please enter a prize name!"
          );
          nameInput.focus();
          return;
        }

        // Auto-generate random color if not selected
        if (color === "") {
          color = generateRandomColor();
          colorInput.value = color;
        }

        if (quantity < 1 || quantity > 999) {
          alert(
            currentLanguage === "th"
              ? "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1-999!"
              : "Quantity must be between 1-999!"
          );
          quantityInput.focus();
          return;
        }

        if (prizes.length >= 12) {
          alert(
            currentLanguage === "th"
              ? "‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 12 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£!"
              : "You can add a maximum of 12 prizes!"
          );
          return;
        }

        // Check for duplicate names
        if (
          prizes.some(
            (prize) => prize.name.toLowerCase() === name.toLowerCase()
          )
        ) {
          alert(
            currentLanguage === "th"
              ? "‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß!"
              : "A prize with this name already exists!"
          );
          return;
        }

        const newPrize = {
          id: Date.now(),
          name: name,
          color: color,
          quantity: quantity,
          originalQuantity: quantity,
        };

        prizes.push(newPrize);
        savePrizes();
        updateWheel();
        updatePrizesList();

        // Clear inputs
        nameInput.value = "";
        colorInput.value = "";
        quantityInput.value = "1";

        // Auto-generate color for next prize
        setTimeout(() => {
          randomColor();
        }, 100);

        // Show success message
        const successMsg =
          currentLanguage === "th"
            ? `‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• "${name}" ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${quantity} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!`
            : `Added prize "${name}" with quantity ${quantity}!`;
        showNotification(successMsg, "success");
      }

      function deletePrize(prizeId) {
        const confirmMsg =
          currentLanguage === "th"
            ? "‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏µ‡πâ?"
            : "Are you sure you want to delete this prize?";
        if (confirm(confirmMsg)) {
          const prizeIndex = prizes.findIndex((prize) => prize.id === prizeId);
          if (prizeIndex > -1) {
            const deletedPrize = prizes.splice(prizeIndex, 1)[0];
            savePrizes();
            updateWheel();
            updatePrizesList();
            const deleteMsg =
              currentLanguage === "th"
                ? `‡∏•‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• "${deletedPrize.name}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!`
                : `Deleted prize "${deletedPrize.name}"!`;
            showNotification(deleteMsg, "error");
          }
        }
      }

      function updatePrizesList() {
        const container = document.getElementById("prizes-container");

        if (prizes.length === 0) {
          container.innerHTML = `
                    <div class="empty-state">
                        <h3>${t("noPrives")}</h3>
                        <p>${t("addPrizeToStart")}</p>
                    </div>
                `;
          return;
        }

        container.innerHTML = prizes
          .map(
            (prize) => `
                <div class="prize-item ${
                  prize.quantity === 0 ? "out-of-stock" : ""
                }">
                    <div class="prize-info">
                        <div style="display: flex; align-items: center;">
                            <div class="prize-color" style="background-color: ${
                              prize.color
                            }"></div>
                            <div>
                                <div class="prize-name">${prize.name}</div>
                                <div class="prize-quantity ${
                                  prize.quantity === 0 ? "out-of-stock" : ""
                                }">
                                    ${t("remaining")} ${prize.quantity} ${t("outOf")} ${
              prize.originalQuantity
            }
                                    ${prize.quantity === 0 ? t("outOfStock") : ""}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="prize-actions">
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="changeQuantity(${
                              prize.id
                            }, -1)" ${
              prize.quantity === 0 ? "disabled" : ""
            }>‚àí</button>
                            <div class="quantity-display">${
                              prize.quantity
                            }</div>
                            <button class="quantity-btn" onclick="changeQuantity(${
                              prize.id
                            }, 1)" ${
              prize.quantity >= 999 ? "disabled" : ""
            }>+</button>
                        </div>
                        <button class="delete-btn" onclick="deletePrize(${
                          prize.id
                        })">${t("deleteButton")}</button>
                    </div>
                </div>
            `
          )
          .join("");
      }

      function changeQuantity(prizeId, change) {
        const prize = prizes.find((p) => p.id === prizeId);
        if (prize) {
          const newQuantity = prize.quantity + change;
          if (newQuantity >= 0 && newQuantity <= 999) {
            prize.quantity = newQuantity;
            savePrizes();
            updateWheel();
            updatePrizesList();

            const action =
              change > 0
                ? currentLanguage === "th"
                  ? "‡πÄ‡∏û‡∏¥‡πà‡∏°"
                  : "Increased"
                : currentLanguage === "th"
                ? "‡∏•‡∏î"
                : "Decreased";
            const msg =
              currentLanguage === "th"
                ? `${action}‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• "${prize.name}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß (‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${prize.quantity})`
                : `${action} quantity of "${prize.name}" (Remaining: ${prize.quantity})`;
            showNotification(msg, "success");
          }
        }
      }

      // Wheel functions
      function updateWheel() {
        const wheel = document.getElementById("wheel");
        const noticeDiv = document.getElementById("wheel-notice");
        wheel.innerHTML = "";
        noticeDiv.innerHTML = "";

        // Reset wheel rotation when updating
        wheel.style.transform = `rotate(${currentRotation}deg)`;

        // Get available prizes (quantity > 0)
        const availablePrizes = prizes.filter((prize) => prize.quantity > 0);

        if (prizes.length === 0) {
          wheel.innerHTML =
            `<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666; font-size: 18px;">${t("noPrizesWheel")}</div>`;
          return;
        }

        if (availablePrizes.length === 0) {
          wheel.innerHTML =
            `<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #ff6b6b; font-size: 18px;">${t("allPrizesGone")}</div>`;
          noticeDiv.innerHTML =
            `<div class="no-prizes-notice">${t("allPrizesGoneWarning")}</div>`;
          return;
        }

        if (availablePrizes.length === 1) {
          noticeDiv.innerHTML =
            `<div class="auto-select-notice">${t("onePrizeLeft")}</div>`;
        }

        // Create SVG wheel for proper segments
        const svgHTML = createWheelSVG(availablePrizes);
        wheel.innerHTML = svgHTML;
      }

      function createWheelSVG(availablePrizes) {
        const centerX = 200;
        const centerY = 200;
        const radius = 180;

        let svgContent = `
                <svg width="100%" height="100%" viewBox="0 0 400 400" style="border-radius: 50%;">
            `;

        if (availablePrizes.length === 1) {
          // Special case for single prize - create a full circle
          const prize = availablePrizes[0];
          svgContent += `
                    <circle cx="${centerX}" cy="${centerY}" r="${radius}" 
                            fill="${prize.color}" stroke="#fff" stroke-width="2"/>
                    <text x="${centerX}" y="${centerY}" 
                          fill="white" 
                          font-family="Arial, sans-serif" 
                          font-size="18" 
                          font-weight="bold" 
                          text-anchor="middle" 
                          dominant-baseline="middle"
                          style="text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">
                        ${prize.name} (${prize.quantity})
                    </text>
                `;
        } else {
          // Multiple prizes - create segments
          const segmentAngle = 360 / availablePrizes.length;

          availablePrizes.forEach((prize, index) => {
            // Start from top (0 degrees) and go clockwise
            const startAngle = index * segmentAngle * (Math.PI / 180);
            const endAngle = (index + 1) * segmentAngle * (Math.PI / 180);

            const x1 = centerX + radius * Math.sin(startAngle);
            const y1 = centerY - radius * Math.cos(startAngle);
            const x2 = centerX + radius * Math.sin(endAngle);
            const y2 = centerY - radius * Math.cos(endAngle);

            const largeArcFlag = segmentAngle > 180 ? 1 : 0;

            const pathData = [
              `M ${centerX} ${centerY}`,
              `L ${x1} ${y1}`,
              `A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2}`,
              "Z",
            ].join(" ");

            // Calculate text position
            const textAngle =
              (index * segmentAngle + segmentAngle / 2) * (Math.PI / 180);
            const textRadius = radius * 0.7;
            const textX = centerX + textRadius * Math.sin(textAngle);
            const textY = centerY - textRadius * Math.cos(textAngle);
            const textRotation = index * segmentAngle + segmentAngle / 2;

            svgContent += `
                        <path d="${pathData}" fill="${prize.color}" stroke="#fff" stroke-width="2"/>
                        <text x="${textX}" y="${textY}" 
                              fill="white" 
                              font-family="Arial, sans-serif" 
                              font-size="14" 
                              font-weight="bold" 
                              text-anchor="middle" 
                              dominant-baseline="middle"
                              transform="rotate(${textRotation}, ${textX}, ${textY})"
                              style="text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">
                            ${prize.name} (${prize.quantity})
                        </text>
                    `;
          });
        }

        svgContent += "</svg>";
        return svgContent;
      }

      function spinWheel() {
        // Get available prizes (quantity > 0)
        const availablePrizes = prizes.filter((prize) => prize.quantity > 0);

        if (prizes.length === 0) {
          const msg =
            currentLanguage === "th"
              ? "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠!"
              : "Please add prizes before spinning!";
          alert(msg);
          return;
        }

        if (availablePrizes.length === 0) {
          const msg =
            currentLanguage === "th"
              ? "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏°‡∏∏‡∏ô"
              : "All prizes are gone! Please add more quantities!";
          alert(msg);
          return;
        }

        if (isSpinning) return;

        isSpinning = true;
        const spinBtn = document.getElementById("spin-btn");
        const wheel = document.getElementById("wheel");

        spinBtn.disabled = true;

        let winner;

        // If only one prize left, auto-select it
        if (availablePrizes.length === 1) {
          winner = availablePrizes[0];
          spinBtn.textContent = "üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠...";

          // Show result immediately with shorter delay
          setTimeout(() => {
            showWinnerResult(winner);
          }, 1500);
        } else {
          spinBtn.textContent = "üé° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏°‡∏∏‡∏ô...";

          // Random rotation (minimum 5 full rotations + random angle)
          const minRotation = 1800; // 5 full rotations
          const randomRotation = Math.random() * 360;
          const newRotation = minRotation + randomRotation;
          const totalRotation = currentRotation + newRotation;

          // Apply rotation
          wheel.style.transform = `rotate(${totalRotation}deg)`;

          // Calculate winner after animation
          setTimeout(() => {
            // Update current rotation for next spin
            currentRotation = totalRotation % 360;

            // Calculate winner based on pointer position (top of wheel)
            // The pointer points to the top, so we need to find which segment is at 0 degrees (top)
            const segmentAngle = 360 / availablePrizes.length;

            // Since wheel rotates clockwise and SVG starts from top (-90 degrees in math)
            // We need to reverse the rotation to find the correct segment
            const pointerAngle = (360 - currentRotation) % 360;

            // Find which segment the pointer is pointing to
            const winnerIndex =
              Math.floor(pointerAngle / segmentAngle) % availablePrizes.length;
            winner = availablePrizes[winnerIndex];

            showWinnerResult(winner);
          }, 4000);
        }
      }

      function showWinnerResult(winner) {
        const spinBtn = document.getElementById("spin-btn");

        // Reduce winner quantity
        winner.quantity--;
        savePrizes();
        updateWheel();
        updatePrizesList();

        // Store last winner
        lastWinner = winner;

        // Show modal instead of inline result
        showPrizeModal(winner);

        isSpinning = false;

        // Update button text based on remaining prizes
        const availablePrizes = prizes.filter((prize) => prize.quantity > 0);
        if (availablePrizes.length === 0) {
          spinBtn.disabled = true;
          spinBtn.textContent = "‚ùå ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß";
        } else if (availablePrizes.length === 1) {
          spinBtn.disabled = false;
          spinBtn.textContent = "üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢";
        } else {
          spinBtn.disabled = false;
          spinBtn.textContent = "üéØ ‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠";
        }

        // Show celebration animation
        createConfetti();

        // Add extra sparkle effects
        setTimeout(() => {
          createSparkleExplosion();
        }, 600);
      }

      // Modal functions
      function showPrizeModal(winner) {
        const modal = document.getElementById("prize-modal");
        const modalIcon = document.getElementById("modal-prize-icon");
        const modalText = document.getElementById("modal-prize-text");
        const modalSubtext = document.getElementById("modal-prize-subtext");

        // Set modal content
        modalIcon.style.backgroundColor = winner.color;
        modalText.textContent = winner.name;
        modalSubtext.textContent = `‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${winner.quantity} ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•`;

        // Show modal with animation
        modal.classList.add("show");

        // Auto close modal after 5 seconds
        setTimeout(() => {
          if (modal.classList.contains("show")) {
            closeModal();
          }
        }, 5000);
      }

      function closeModal() {
        const modal = document.getElementById("prize-modal");

        modal.classList.remove("show");
      }
      // Local storage functions
      function savePrizes() {
        localStorage.setItem("zenithwheel-prizes", JSON.stringify(prizes));
      }

      function loadPrizes() {
        const saved = localStorage.getItem("zenithwheel-prizes");
        if (saved) {
          prizes = JSON.parse(saved);
          // Migrate old prizes without quantity
          prizes = prizes.map((prize) => ({
            ...prize,
            quantity: prize.quantity !== undefined ? prize.quantity : 3,
            originalQuantity:
              prize.originalQuantity !== undefined ? prize.originalQuantity : 3,
          }));
          savePrizes();
        } else {
          // Default prizes
          prizes = [
            {
              id: 1,
              name: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 1",
              color: "#ff6b6b",
              quantity: 3,
              originalQuantity: 3,
            },
            {
              id: 2,
              name: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 2",
              color: "#4ecdc4",
              quantity: 3,
              originalQuantity: 3,
            },
            {
              id: 3,
              name: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 3",
              color: "#45b7d1",
              quantity: 2,
              originalQuantity: 2,
            },
            {
              id: 4,
              name: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 4",
              color: "#96ceb4",
              quantity: 2,
              originalQuantity: 2,
            },
            {
              id: 5,
              name: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 5",
              color: "#ffeaa7",
              quantity: 1,
              originalQuantity: 1,
            },
            {
              id: 6,
              name: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 6",
              color: "#dda0dd",
              quantity: 1,
              originalQuantity: 1,
            },
          ];
          savePrizes();
        }
      }

      // Notification system
      function showNotification(message, type = "success") {
        const notification = document.createElement("div");
        notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${
                  type === "success"
                    ? "linear-gradient(45deg, #2ed573, #1e90ff)"
                    : "linear-gradient(45deg, #ff6b6b, #ee5a24)"
                };
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                font-weight: bold;
                max-width: 300px;
                word-wrap: break-word;
                animation: slideInRight 0.5s ease;
            `;

        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = "slideOutRight 0.5s ease";
          setTimeout(() => {
            document.body.removeChild(notification);
          }, 500);
        }, 3000);
      }

      // Confetti animation
      function createConfetti() {
        const colors = [
          "#ff6b6b",
          "#4ecdc4",
          "#45b7d1",
          "#96ceb4",
          "#ffeaa7",
          "#dda0dd",
        ];

        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.style.cssText = `
                        position: fixed;
                        width: 10px;
                        height: 10px;
                        background: ${
                          colors[Math.floor(Math.random() * colors.length)]
                        };
                        left: ${Math.random() * 100}vw;
                        top: -10px;
                        z-index: 1000;
                        border-radius: 50%;
                        pointer-events: none;
                        animation: confettiFall 3s linear forwards;
                    `;

            document.body.appendChild(confetti);

            setTimeout(() => {
              if (document.body.contains(confetti)) {
                document.body.removeChild(confetti);
              }
            }, 3000);
          }, i * 50);
        }
      }

      // Sparkle explosion animation
      function createSparkleExplosion() {
        const sparkleEmojis = ["‚ú®", "‚≠ê", "üåü", "üí´", "üéä", "üéÅ", "üèÜ"];
        const resultContainer = document.querySelector(".result-container");

        if (!resultContainer) return;

        for (let i = 0; i < 20; i++) {
          setTimeout(() => {
            const sparkle = document.createElement("div");
            const emoji =
              sparkleEmojis[Math.floor(Math.random() * sparkleEmojis.length)];

            sparkle.style.cssText = `
                        position: absolute;
                        font-size: 32px;
                        left: 50%;
                        top: 50%;
                        z-index: 2000;
                        pointer-events: none;
                        animation: sparkleExplode 2.5s ease-out forwards;
                        transform: translate(-50%, -50%);
                        filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8));
                    `;
            sparkle.textContent = emoji;

            // Random direction for explosion
            const angle = (Math.PI * 2 * i) / 20;
            const distance = 100 + Math.random() * 60;
            sparkle.style.setProperty(
              "--end-x",
              Math.cos(angle) * distance + "px"
            );
            sparkle.style.setProperty(
              "--end-y",
              Math.sin(angle) * distance + "px"
            );

            resultContainer.appendChild(sparkle);

            setTimeout(() => {
              if (resultContainer.contains(sparkle)) {
                resultContainer.removeChild(sparkle);
              }
            }, 2500);
          }, i * 80);
        }
      }

      // Add CSS animations for notifications and confetti
      const style = document.createElement("style");
      style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            @keyframes confettiFall {
                to {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
            
            @keyframes sparkleExplode {
                0% {
                    transform: translate(-50%, -50%) scale(0);
                    opacity: 1;
                }
                40% {
                    transform: translate(calc(-50% + var(--end-x) * 0.6), calc(-50% + var(--end-y) * 0.6)) scale(1.8);
                    opacity: 1;
                }
                70% {
                    transform: translate(calc(-50% + var(--end-x) * 0.9), calc(-50% + var(--end-y) * 0.9)) scale(1.2);
                    opacity: 0.8;
                }
                100% {
                    transform: translate(calc(-50% + var(--end-x)), calc(-50% + var(--end-y))) scale(0.3);
                    opacity: 0;
                }
            }
        `;
      document.head.appendChild(style);

      // Color generation functions
      function generateRandomColor() {
        const colors = [
          "#ff6b6b",
          "#4ecdc4",
          "#45b7d1",
          "#96ceb4",
          "#ffeaa7",
          "#dda0dd",
          "#ff7675",
          "#74b9ff",
          "#a29bfe",
          "#6c5ce7",
          "#fd79a8",
          "#fdcb6e",
          "#e17055",
          "#81ecec",
          "#55a3ff",
          "#00b894",
          "#e84393",
          "#f39c12",
          "#8e44ad",
          "#3498db",
          "#e74c3c",
          "#2ecc71",
          "#f1c40f",
          "#9b59b6",
          "#1abc9c",
          "#34495e",
          "#16a085",
          "#27ae60",
          "#2980b9",
          "#8e44ad",
        ];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      function randomColor() {
        const colorInput = document.getElementById("prize-color");
        const newColor = generateRandomColor();
        colorInput.value = newColor;
      }

      // Handle Enter key press in prize name input
      document
        .getElementById("prize-name")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            addPrize();
          }
        });
    </script>
  </body>
</html>
